<% layout('layout') -%>
<% script('js/updateview.js') -%>

<div id="update" class="container p-3 mt-3 mb-3 bg-light border rounded">

  <div id="mainContent">
    <img id="image" class="rounded mx-auto d-block img-fluid" src="./images/default_update.jpg" class="rounded" alt="Noticia">  
    <h1 id="title" class="display-2"></h1>
    <small id="date"></small>
    <p id="text" class="font-weight-light lead"></p>
  </div>
  
  <form id="editUpdate" class="m-3" hidden>
    <div class="form-group row">
      <label for="title" class="col-sm-2 col-form-label">Nuevo título del comentario</label>
      <div class="col-sm-8">
        <input type="text" class="form-control" name="title">
      </div>
    </div>
    
    <div class="form-group row">
      <label for="text" class="col-sm-2 col-form-label">Texto del comentario</label>
      <div class="col-sm-8">
        <textarea type="text" class="form-control" name="text" rows="10"></textarea>
      </div>
    </div>
    
    <div class="form-group row">
      <div class="col-sm-4">
        <input class="btn btn-success" type="submit" name="submit" title="Gauardar cambios" value="Guardar cambios">
        <input id="cancel" class="btn btn-danger" name="cancel" title="Cancelar" value="Cancelar">
      </div>
    </div> 
  </form>
</div>

<div id="notification" class="container"></div>

<div id="commentSection" class="container pb-3">
  <%if (client.id != null){ %>
    <button id="addcomment" type='button' class='btn btn-success m-3' title='Añadir comentario'>Añadir comentario <i class='fas fa-plus-circle'></i></button>
    <form id="formComment">
      <div class="form-group">
        <label for="comment">Comentario:</label>
        <textarea class="form-control" rows="5" id="comment" name="comment"></textarea>
      </div>
      <button type="submit" class="btn btn-primary">Publicar</button>
    </form>
    <% } %>
  <div id="comments"></div>
</div>